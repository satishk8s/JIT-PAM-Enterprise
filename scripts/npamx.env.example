# NPAMX backend environment (example)
# Copy to: /etc/npamx/npamx.env (chmod 600) on the PAM server.
#
# NOTE: systemd services do not inherit "export" from your SSH session.
# Put Vault/Proxy settings here so the backend service can read them.

# Vault (required for dynamic DB access)
VAULT_ADDR="http://127.0.0.1:8200"
VAULT_ROLE_ID="replace-me"
VAULT_SECRET_ID="replace-me"

# Vault DB secrets engine mount + connection name (match your Vault config)
VAULT_DB_MOUNT="database"
VAULT_DB_CONNECTION_NAME="my-mysql"

# Database connect proxy (users and PAM terminal must connect only via proxy)
DB_CONNECT_PROXY_HOST="127.0.0.1"
DB_CONNECT_PROXY_PORT="3306"

# SQLite persistence (optional override)
# Default: <repo>/backend/data/npamx.db
NPAMX_DB_PATH="/var/lib/npamx/npamx.db"

# IAM DB auth / TLS (optional, recommended if you use IAM auth)
DB_SSL_CA_BUNDLE="/etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem"
DB_SSL_REQUIRE="false"
